---
title: "cursor.so試してみた"
emoji: "🍣"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [cursor,ChatGPT,Editor,React,TypeScript]
published: false
---

## 背景
TwitterもといXにて以下のものが流れてきた。
これは試してみるしかないだろうということで実践してみる。
https://twitter.com/mckaywrigley/status/1694107906608947237

## インストール
以下のURLからインストール可能。
インストール時、特に気をつけるポイントはなし。
https://www.cursor.so/

- VSCodeのfolkらしいので、VSCodeユーザーはExtensionも引き継げる模様。
  - 私の環境だと限られたもののみ反映されている様子。どういう基準で引き継がれているかは不明なため、現時点では再セットアップが必要そう。
- VimとEmacsのキーバインドにも対応している。
- OpenAIのAPIキーを要求されるので、事前に払い出しは必須そう。
- 無料範囲だと、月単位でAPIリクエスト数が制限されている。
  - OpenAIへのAPI利用申請をしていない場合どうなる？要確認。

## 確認したい点
GPT4か、3.5かで精度は大きく変わってくるが、以下の内容を確認する。
※機能名がどのようなものかは、公式の説明を参照してください。
https://www.cursor.so/features

- ファイルに対する修正の精度
- Chat機能の回答精度。ChatGPTと同等かどうか。
- Symbolによるコードベース参照機能がどこまで追えるか。
- Docsによるクローリングがどこまで精度よく拾えるのか。
- AutoDebugとLintはコードベースが大きくならないと出番がないかも？

## お題
諸々の機能確認ということで、Next.jsを利用したTODOアプリを作る。
APIのリクエスト数に限りがあるので、Docs無しで試す。

## 実践
とりあえずNext.jsの最新版を構築する。
https://nextjs.org/docs/pages/building-your-application/configuring/typescript

```zsh
npx create-next-app@latest
npm run dev
```

確認しやすいようにtodoというディレクトリを切って試していく。
page.tsx、layout.tsxを追加。
```
.
├── favicon.ico
├── globals.css
├── layout.tsx
├── page.tsx
└── todo
    ├── layout.tsx
    └── page.tsx
```

app router を利用する前提で構築してみる
page.tsxを参照している状態で、Command + K で入力コンソールを表示し、以下のプロンプトを入力。

```
@NextJS 
- Make a TODO app.
- Please install a dark mode switching toggle in the Header part.
- Please use /todo as the creation directory.
- Use tailwind.css for layout.
- Add animation when adding or deleting tasks to improve visibility.
- Build using App router.
- Add server component processing to page.tsx and client component processing to client.tsx, then output 2 files.
- Please output to layout.tsx for what can be used as a common layout. I think that the switching toggle of the Header part corresponds.
```

生成されたファイルが以下の通り。
```tsx
 import { useState } from 'react'
 import { useRouter } from 'next/router'
 import { useTheme } from 'next-themes'
 import { motion } from 'framer-motion'

 export default function TodoPage() {
   const [todos, setTodos] = useState([])
   const [input, setInput] = useState('')
   const { theme, setTheme } = useTheme()
   const router = useRouter()

   const addTodo = (e) => {
     e.preventDefault()
     setTodos([...todos, input])
     setInput('')
   }

   const deleteTodo = (todoToDelete) => {
     setTodos(todos.filter((todo) => todo !== todoToDelete))
   }

   return (
     <div className="min-h-screen bg-gray-100 dark:bg-gray-800">
       <header className="flex justify-between p-6">
         <h1 className="text-3xl font-bold dark:text-white">TODO App</h1>
         <button
           className="p-2 bg-blue-500 text-white rounded-md"
           onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}
         >
           Switch Theme
         </button>
       </header>
       <main className="p-6">
         <form onSubmit={addTodo} className="mb-4">
           <input
             type="text"
             value={input}
             onChange={(e) => setInput(e.target.value)}
             className="p-2 border rounded-md dark:bg-gray-700 dark:text-white"
           />
           <button type="submit" className="p-2 bg-green-500 text-white rounded-md ml-2">
             Add
           </button>
         </form>
         {todos.map((todo, index) => (
           <motion.div
             key={index}
             initial={{ opacity: 0 }}
             animate={{ opacity: 1 }}
             exit={{ opacity: 0 }}
             className="flex justify-between p-2 mb-2 bg-white rounded-md dark:bg-gray-700"
           >
             <p className="dark:text-white">{todo}</p>
             <button onClick={() => deleteTodo(todo)} className="p-2 bg-red-500 text-white rounded-md">
               Delete
             </button>
           </motion.div>
         ))}
       </main>
     </div>
   )
 }
```

いくつか入れていないライブラリと、TSのエラーが発生している。
App routerを使用してほしいと入力したおかげで、AppRouterは使ってくれている。

npm install next-themes    
npm install framer-motion
